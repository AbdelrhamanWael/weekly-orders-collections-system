<!doctype html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ù†Ø¸Ø§Ù… Ø±Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªØ­ØµÙŠÙ„</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap"
    rel="stylesheet" />
  <style>
    :root {
      --bg: #0b1120;
      --surface: #111827;
      --surface2: #1a2235;
      --border: rgba(255, 255, 255, 0.07);
      --cyan: #22d3ee;
      --blue: #3b82f6;
      --emerald: #10b981;
      --amber: #f59e0b;
      --rose: #f43f5e;
      --purple: #a78bfa;
      --text: #e2e8f0;
      --muted: #94a3b8;
      --radius: 16px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Tajawal", sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* â”€â”€ Sidebar â”€â”€ */
    .sidebar {
      position: fixed;
      top: 0;
      right: 0;
      width: 240px;
      height: 100vh;
      background: var(--surface);
      border-left: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      padding: 24px 16px;
      z-index: 100;
      transition: 0.3s;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 36px;
      padding: 0 8px;
    }

    .logo-icon {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--cyan), var(--blue));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      flex-shrink: 0;
    }

    .logo-text {
      font-size: 14px;
      font-weight: 700;
      line-height: 1.3;
      color: var(--text);
    }

    .logo-sub {
      font-size: 11px;
      color: var(--muted);
      font-weight: 400;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 11px 14px;
      border-radius: 12px;
      cursor: pointer;
      margin-bottom: 4px;
      color: var(--muted);
      font-size: 14px;
      font-weight: 500;
      transition: 0.2s;
      border: 1px solid transparent;
    }

    .nav-item:hover {
      background: var(--surface2);
      color: var(--text);
    }

    .nav-item.active {
      background: linear-gradient(135deg,
          rgba(34, 211, 238, 0.12),
          rgba(59, 130, 246, 0.12));
      color: var(--cyan);
      border-color: rgba(34, 211, 238, 0.2);
    }

    .nav-icon {
      font-size: 18px;
      width: 22px;
      text-align: center;
    }

    .sidebar-footer {
      margin-top: auto;
      padding: 12px;
      border-radius: 12px;
      background: var(--surface2);
      text-align: center;
    }

    .sidebar-footer p {
      font-size: 11px;
      color: var(--muted);
    }

    /* â”€â”€ Main â”€â”€ */
    .main {
      margin-right: 240px;
      padding: 32px;
      min-height: 100vh;
    }

    .page {
      display: none;
    }

    .page.active {
      display: block;
    }

    /* â”€â”€ Page Header â”€â”€ */
    .page-header {
      margin-bottom: 28px;
    }

    .page-title {
      font-size: 26px;
      font-weight: 800;
      background: linear-gradient(135deg,
          var(--cyan),
          var(--blue),
          var(--purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .page-sub {
      color: var(--muted);
      font-size: 14px;
      margin-top: 4px;
    }

    /* â”€â”€ KPI Cards â”€â”€ */
    .kpi-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 28px;
    }

    .kpi-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 22px;
      transition: 0.3s;
      position: relative;
      overflow: hidden;
    }

    .kpi-card::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--accent, var(--cyan));
    }

    .kpi-card:hover {
      transform: translateY(-3px);
      border-color: rgba(34, 211, 238, 0.2);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
    }

    .kpi-icon {
      font-size: 28px;
      margin-bottom: 12px;
    }

    .kpi-label {
      font-size: 12px;
      color: var(--muted);
      font-weight: 500;
      margin-bottom: 6px;
    }

    .kpi-value {
      font-size: 24px;
      font-weight: 800;
      color: var(--text);
    }

    .kpi-sub {
      font-size: 11px;
      color: var(--muted);
      margin-top: 4px;
    }

    /* â”€â”€ Platform Table â”€â”€ */
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px;
      margin-bottom: 20px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 18px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th {
      text-align: right;
      padding: 10px 14px;
      font-size: 12px;
      color: var(--muted);
      font-weight: 600;
      border-bottom: 1px solid var(--border);
      background: var(--surface2);
    }

    td {
      padding: 12px 14px;
      font-size: 13px;
      border-bottom: 1px solid var(--border);
    }

    tr:last-child td {
      border-bottom: none;
    }

    tr:hover td {
      background: rgba(255, 255, 255, 0.02);
    }

    .badge {
      display: inline-block;
      padding: 3px 10px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
    }

    .badge-cyan {
      background: rgba(34, 211, 238, 0.12);
      color: var(--cyan);
    }

    .badge-emerald {
      background: rgba(16, 185, 129, 0.12);
      color: var(--emerald);
    }

    .badge-amber {
      background: rgba(245, 158, 11, 0.12);
      color: var(--amber);
    }

    .badge-rose {
      background: rgba(244, 63, 94, 0.12);
      color: var(--rose);
    }

    .badge-purple {
      background: rgba(167, 139, 250, 0.12);
      color: var(--purple);
    }

    /* Progress bar */
    .progress-bar {
      height: 6px;
      background: var(--surface2);
      border-radius: 3px;
      overflow: hidden;
      margin-top: 4px;
    }

    .progress-fill {
      height: 100%;
      border-radius: 3px;
      background: linear-gradient(90deg, var(--cyan), var(--blue));
      transition: width 0.6s ease;
    }

    /* â”€â”€ Upload Zone â”€â”€ */
    .upload-zone {
      border: 2px dashed rgba(34, 211, 238, 0.3);
      border-radius: var(--radius);
      padding: 48px 24px;
      text-align: center;
      cursor: pointer;
      transition: 0.3s;
      background: rgba(34, 211, 238, 0.03);
    }

    .upload-zone:hover,
    .upload-zone.dragover {
      border-color: var(--cyan);
      background: rgba(34, 211, 238, 0.07);
    }

    .upload-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .upload-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .upload-sub {
      font-size: 13px;
      color: var(--muted);
    }

    #fileInput {
      display: none;
    }

    /* â”€â”€ File List â”€â”€ */
    .file-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      background: var(--surface2);
      border-radius: 12px;
      margin-bottom: 8px;
      border: 1px solid var(--border);
    }

    .file-icon {
      font-size: 24px;
    }

    .file-info {
      flex: 1;
    }

    .file-name {
      font-size: 13px;
      font-weight: 600;
    }

    .file-meta {
      font-size: 11px;
      color: var(--muted);
      margin-top: 2px;
    }

    .file-del {
      background: none;
      border: none;
      color: var(--rose);
      cursor: pointer;
      font-size: 18px;
      padding: 4px;
      border-radius: 6px;
      transition: 0.2s;
    }

    .file-del:hover {
      background: rgba(244, 63, 94, 0.12);
    }

    /* â”€â”€ Buttons â”€â”€ */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 11px 22px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      border: none;
      transition: 0.25s;
      font-family: "Tajawal", sans-serif;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--cyan), var(--blue));
      color: #fff;
      box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
    }

    .btn-danger {
      background: rgba(244, 63, 94, 0.12);
      color: var(--rose);
      border: 1px solid rgba(244, 63, 94, 0.2);
    }

    .btn-danger:hover {
      background: rgba(244, 63, 94, 0.2);
    }

    .btn-ghost {
      background: var(--surface2);
      color: var(--text);
      border: 1px solid var(--border);
    }

    .btn-ghost:hover {
      border-color: var(--cyan);
      color: var(--cyan);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none !important;
    }

    .btn-lg {
      padding: 14px 32px;
      font-size: 16px;
    }

    /* â”€â”€ Process Section â”€â”€ */
    .process-steps {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-bottom: 24px;
    }

    .step-card {
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      text-align: center;
      transition: 0.3s;
    }

    .step-card.running {
      border-color: var(--amber);
      background: rgba(245, 158, 11, 0.05);
    }

    .step-card.done {
      border-color: var(--emerald);
      background: rgba(16, 185, 129, 0.05);
    }

    .step-card.error {
      border-color: var(--rose);
      background: rgba(244, 63, 94, 0.05);
    }

    .step-num {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--surface);
      border: 2px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 800;
      margin: 0 auto 12px;
      transition: 0.3s;
    }

    .step-card.running .step-num {
      border-color: var(--amber);
      color: var(--amber);
    }

    .step-card.done .step-num {
      border-color: var(--emerald);
      color: var(--emerald);
    }

    .step-title {
      font-size: 13px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .step-sub {
      font-size: 11px;
      color: var(--muted);
    }

    /* â”€â”€ Log Terminal â”€â”€ */
    .log-box {
      background: #0a0f1a;
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      font-family: "Courier New", monospace;
      font-size: 12px;
      color: #a8d8a8;
      line-height: 1.8;
      max-height: 400px;
      overflow-y: auto;
      white-space: pre-wrap;
      display: none;
    }

    .log-box.visible {
      display: block;
    }

    /* â”€â”€ Reports â”€â”€ */
    .report-item {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 16px;
      background: var(--surface2);
      border-radius: 12px;
      margin-bottom: 10px;
      border: 1px solid var(--border);
      transition: 0.2s;
    }

    .report-item:hover {
      border-color: rgba(34, 211, 238, 0.2);
    }

    .report-icon {
      font-size: 32px;
    }

    .report-info {
      flex: 1;
    }

    .report-name {
      font-size: 13px;
      font-weight: 700;
    }

    .report-meta {
      font-size: 11px;
      color: var(--muted);
      margin-top: 3px;
    }

    /* â”€â”€ Toast â”€â”€ */
    .toast-container {
      position: fixed;
      bottom: 24px;
      left: 24px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .toast {
      padding: 14px 20px;
      border-radius: 12px;
      font-size: 13px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 280px;
      animation: slideIn 0.3s ease;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    }

    .toast-success {
      background: rgba(16, 185, 129, 0.9);
      color: #fff;
    }

    .toast-error {
      background: rgba(244, 63, 94, 0.9);
      color: #fff;
    }

    .toast-info {
      background: rgba(59, 130, 246, 0.9);
      color: #fff;
    }

    @keyframes slideIn {
      from {
        transform: translateX(-100%);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideOut {
      from {
        transform: translateX(0);
        opacity: 1;
      }

      to {
        transform: translateX(-100%);
        opacity: 0;
      }
    }

    /* â”€â”€ Spinner â”€â”€ */
    .spinner {
      width: 20px;
      height: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin 0.7s linear infinite;
      display: none;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    /* â”€â”€ Responsive â”€â”€ */
    @media (max-width: 768px) {
      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
        flex-direction: row;
        flex-wrap: wrap;
      }

      .main {
        margin-right: 0;
      }

      .process-steps {
        grid-template-columns: 1fr;
      }
    }

    /* â”€â”€ Scrollbar â”€â”€ */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--surface);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--surface2);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #334155;
    }

    /* â”€â”€ Charts â”€â”€ */
    .charts-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .chart-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 24px;
    }

    .chart-card.full {
      grid-column: 1 / -1;
    }

    .chart-title {
      font-size: 14px;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .chart-wrap {
      position: relative;
      height: 260px;
    }

    .chart-wrap.tall {
      height: 320px;
    }

    @media (max-width: 900px) {
      .charts-grid {
        grid-template-columns: 1fr;
      }
    }

    /* â”€â”€ Row animation â”€â”€ */
    @keyframes fadeRow {
      from {
        opacity: 0;
        transform: translateY(8px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* â”€â”€ Accounts form responsive â”€â”€ */
    @media (max-width: 768px) {
      #addAccountForm {
        grid-template-columns: 1fr !important;
      }
    }
  </style>
</head>

<body>
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• SIDEBAR â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <aside class="sidebar">
    <div class="logo">
      <div class="logo-icon">ğŸ“Š</div>
      <div>
        <div class="logo-text">Ù†Ø¸Ø§Ù… Ø±Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
        <div class="logo-sub">ÙˆØ§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</div>
      </div>
    </div>

    <nav>
      <div class="nav-item active" onclick="showPage('dashboard')">
        <span class="nav-icon">ğŸ </span> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
      </div>
      <div class="nav-item" onclick="showPage('upload')">
        <span class="nav-icon">ğŸ“</span> Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
      </div>
      <div class="nav-item" onclick="showPage('process')">
        <span class="nav-icon">âš™ï¸</span> Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      </div>
      <div class="nav-item" onclick="showPage('analytics')">
        <span class="nav-icon">ğŸ“Š</span> Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª
      </div>
      <div class="nav-item" onclick="showPage('returns')">
        <span class="nav-icon">ğŸ“¦</span> Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª
      </div>
      <div class="nav-item" onclick="showPage('reports')">
        <span class="nav-icon">ğŸ“ˆ</span> Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
      </div>
      <div class="nav-item" onclick="showPage('accounts')">
        <span class="nav-icon">ğŸª</span> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
      </div>
      <div class="nav-item" onclick="window.location.href='/products'">
        <span class="nav-icon">ğŸ’°</span> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
      </div>
      <div class="nav-item" onclick="showPage('about')">
        <span class="nav-icon">â„¹ï¸</span> Ø­ÙˆÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…
      </div>
    </nav>

    <div class="sidebar-footer">
      <p style="color: var(--cyan); font-weight: 700; font-size: 12px">
        Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† ÙˆØ§Ø¦Ù„
      </p>
      <p>Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2.0 | Flask Edition</p>
      <p style="margin-top: 4px; color: #475569">
        v2.0
      </p>
    </div>
  </aside>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <main class="main">
    <!-- â”€â”€ DASHBOARD â”€â”€ -->
    <div class="page active" id="page-dashboard">
      <div class="page-header">
        <div class="page-title">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
        <div class="page-sub">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ</div>
      </div>

      <!-- KPI Cards -->
      <div class="kpi-grid">
        <div class="kpi-card" style="--accent: var(--cyan)">
          <div class="kpi-icon">ğŸ“¦</div>
          <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
          <div class="kpi-value" id="kpi-orders">...</div>
          <div class="kpi-sub">ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
        </div>
        <div class="kpi-card" style="--accent: var(--blue)">
          <div class="kpi-icon">ğŸ’°</div>
          <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
          <div class="kpi-value" id="kpi-expected">...</div>
          <div class="kpi-sub">Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ</div>
        </div>
        <div class="kpi-card" style="--accent: var(--emerald)">
          <div class="kpi-icon">âœ…</div>
          <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø­ØµÙ„</div>
          <div class="kpi-value" id="kpi-collected">...</div>
          <div class="kpi-sub">Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ</div>
        </div>
        <div class="kpi-card" style="--accent: var(--amber)">
          <div class="kpi-icon">ğŸ“Š</div>
          <div class="kpi-label">Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­ØµÙŠÙ„</div>
          <div class="kpi-value" id="kpi-rate">...</div>
          <div class="kpi-sub">Ù…Ù† Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
        </div>
        <div class="kpi-card" style="--accent: var(--purple)">
          <div class="kpi-icon">ğŸ—‚ï¸</div>
          <div class="kpi-label">Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ­ØµÙŠÙ„</div>
          <div class="kpi-value" id="kpi-collections">...</div>
          <div class="kpi-sub">Ø­Ø±ÙƒØ© Ù…Ø§Ù„ÙŠØ©</div>
        </div>
      </div>

      <!-- Platform Breakdown -->
      <div class="card">
        <div class="card-title">ğŸ“‹ Ø§Ù„ØªÙØµÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØµØ©</div>
        <table>
          <thead>
            <tr>
              <th>Ø§Ù„Ù…Ù†ØµØ©</th>
              <th>Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</th>
              <th>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</th>
              <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ØªÙƒÙ„ÙØ©</th>
              <th>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø­ØµÙ„</th>
              <th>Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ­ØµÙŠÙ„</th>
            </tr>
          </thead>
          <tbody id="platform-table">
            <tr>
              <td colspan="6" style="text-align:center;padding:24px;color:var(--muted)">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- New Week Banner -->
      <div style="
            background: linear-gradient(
              135deg,
              rgba(245, 158, 11, 0.12),
              rgba(244, 63, 94, 0.08)
            );
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: var(--radius);
            padding: 20px 24px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 12px;
          ">
        <div>
          <div style="font-size: 15px; font-weight: 800; color: var(--amber)">
            ğŸ—“ï¸ Ø¨Ø¯Ø§ÙŠØ© Ø£Ø³Ø¨ÙˆØ¹ Ø¬Ø¯ÙŠØ¯ØŸ
          </div>
          <div style="font-size: 12px; color: var(--muted); margin-top: 4px">
            Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ù„Ù…Ø³Ø­ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø³Ø§Ø¨Ù‚ ÙˆØ§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯ â€” Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
            Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ù„Ù† ØªÙØ­Ø°Ù
          </div>
        </div>
        <button class="btn" onclick="startNewWeek()" style="
              background: linear-gradient(135deg, var(--amber), var(--rose));
              color: #fff;
              box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);
              font-size: 14px;
            ">
          ğŸ”„ Ø¨Ø¯Ø¡ Ø£Ø³Ø¨ÙˆØ¹ Ø¬Ø¯ÙŠØ¯
        </button>
      </div>

      <!-- Quick Actions -->
      <div class="card">
        <div class="card-title">âš¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©</div>
        <div style="display: flex; gap: 12px; flex-wrap: wrap">
          <button class="btn btn-primary" onclick="showPage('upload')">
            ğŸ“ Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø¬Ø¯ÙŠØ¯Ø©
          </button>
          <button class="btn btn-primary" onclick="showPage('process')">
            âš™ï¸ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
          </button>
          <button class="btn btn-ghost" onclick="showPage('reports')">
            ğŸ“ˆ Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
          </button>
        </div>
      </div>
    </div>

    <!-- â”€â”€ UPLOAD â”€â”€ -->
    <div class="page" id="page-upload">
      <div class="page-header">
        <div class="page-title">Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</div>
        <div class="page-sub">
          Ø§Ø±ÙØ¹ Ù…Ù„ÙØ§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªØ­ØµÙŠÙ„ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØµØ§Øª
        </div>
      </div>

      <!-- New Week Notice -->
      <div style="
            background: rgba(34, 211, 238, 0.05);
            border: 1px solid rgba(34, 211, 238, 0.15);
            border-radius: 12px;
            padding: 14px 18px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 13px;
            color: var(--muted);
          ">
        <span style="font-size: 20px">â„¹ï¸</span>
        <span>Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¨Ø¯Ø§ÙŠØ© Ø£Ø³Ø¨ÙˆØ¹ Ø¬Ø¯ÙŠØ¯ØŒ Ø§Ø¶ØºØ· Ø£ÙˆÙ„Ø§Ù‹ Ø¹Ù„Ù‰
          <button onclick="startNewWeek()" style="
                background: none;
                border: none;
                color: var(--amber);
                font-weight: 700;
                cursor: pointer;
                font-family: &quot;Tajawal&quot;, sans-serif;
                font-size: 13px;
                text-decoration: underline;
              ">
            ğŸ”„ Ø¨Ø¯Ø¡ Ø£Ø³Ø¨ÙˆØ¹ Ø¬Ø¯ÙŠØ¯
          </button>
          Ù‚Ø¨Ù„ Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
        </span>
      </div>

      <div class="card">
        <div style="margin-bottom: 16px;">
          <label style="display:block; margin-bottom: 8px; font-weight: 600; color: var(--text);">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø³Ø§Ø¨
            (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <select id="accountSelect" style="
                width: 100%;
                padding: 12px;
                border: 1px solid var(--border);
                background: var(--surface);
                color: var(--text);
                border-radius: 8px;
                font-family: inherit;
                font-size: 14px;
            ">
            <option value="Auto Detect">âœ¨ ÙƒØ´Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ (Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù)</option>
            {% for acc in accounts %}
            <option value="{{ acc.account_name }}">{{ acc.platform_name }} - {{ acc.account_name }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="upload-zone" id="uploadZone" onclick="document.getElementById('fileInput').click()">
          <div class="upload-icon">â˜ï¸</div>
          <div class="upload-title">Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ø¶ØºØ· Ù„Ù„Ø§Ø®ØªÙŠØ§Ø±</div>
          <div class="upload-sub">
            ÙŠØ¯Ø¹Ù…: TXT, CSV, XLSX, XLS â€” Ù…Ù† Ø£Ù…Ø§Ø²ÙˆÙ†ØŒ Ù†ÙˆÙ†ØŒ ØªØ±Ù†Ø¯ÙŠÙˆÙ„ØŒ Ø¥ÙŠÙ„Ø§Ø³ÙˆÙ‚ØŒ ØªØ§Ø¨ÙŠØŒ
            Ø³Ù…Ø³Ø§
          </div>
          <input type="file" id="fileInput" multiple accept=".txt,.csv,.xlsx,.xls" onchange="handleFiles(this.files)" />
        </div>
      </div>

      <div class="card">
        <div class="card-title">
          ğŸ“‚ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©
          <span id="file-count" style="color: var(--muted); font-size: 13px; font-weight: 400"></span>
        </div>
        <div id="file-list">
          <!-- JS Populated -->
        </div>
      </div>
    </div>

    <!-- â”€â”€ PROCESS â”€â”€ -->
    <div class="page" id="page-process">
      <div class="page-header">
        <div class="page-title">Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
        <div class="page-sub">
          ØªØ´ØºÙŠÙ„ Ø®Ø· Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ
        </div>
      </div>

      <!-- Steps -->
      <div class="process-steps">
        <div class="step-card" id="step1">
          <div class="step-num">1</div>
          <div class="step-title">Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
          <div class="step-sub">Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØµØ§Øª</div>
        </div>
        <div class="step-card" id="step2">
          <div class="step-num">2</div>
          <div class="step-title">Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ­ØµÙŠÙ„</div>
          <div class="step-sub">Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ­ØµÙŠÙ„ ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</div>
        </div>
        <div class="step-card" id="step3">
          <div class="step-num">3</div>
          <div class="step-title">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</div>
          <div class="step-sub">Ø±Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø§Ù„ØªØ­ØµÙŠÙ„ ÙˆØªØµØ¯ÙŠØ± Excel</div>
        </div>
      </div>

      <div class="card" style="text-align: center; padding: 32px">
        <button class="btn btn-primary btn-lg" id="runBtn" onclick="runPipeline()">
          <div class="spinner" id="spinner"></div>
          <span id="runBtnText">ğŸš€ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</span>
        </button>
        <p style="margin-top: 16px; font-size: 13px; color: var(--muted)">
          Ø³ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ù…Ø¬Ù„Ø¯
          <code style="color: var(--cyan)">samples/</code> ÙˆØ¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ± Excel
        </p>
      </div>

      <!-- Log -->
      <div class="card" id="log-card" style="display: none">
        <div class="card-title">ğŸ“‹ Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</div>
        <div class="log-box visible" id="logBox"></div>
      </div>
    </div>

    <!-- â”€â”€ REPORTS â”€â”€ -->
    <div class="page" id="page-reports">
      <div class="page-header">
        <div class="page-title">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div>
        <div class="page-sub">ØªØ­Ù…ÙŠÙ„ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©</div>
      </div>

      <div class="card">
        <div class="card-title">ğŸ“Š Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ù…ØªØ§Ø­Ø©</div>
        <div id="reports-list">
          <!-- JS Populated -->
          <div id="reports-loading" style="text-align:center;padding:24px;color:var(--muted)">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±...
          </div>
        </div>
      </div>
    </div>

    <!-- â”€â”€ ANALYTICS â”€â”€ -->
    <div class="page" id="page-analytics">
      <div class="page-header">
        <div class="page-title">Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©</div>
        <div class="page-sub">
          Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„ØªØ­ØµÙŠÙ„ ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª
        </div>
      </div>

      <div class="charts-grid">
        <!-- Chart 1: Orders per Platform (Donut) -->
        <div class="chart-card">
          <div class="chart-title">ğŸš ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØµØ©</div>
          <div class="chart-wrap">
            <canvas id="chartPlatformOrders"></canvas>
          </div>
        </div>

        <!-- Chart 2: Payment Status (Donut) -->
        <div class="chart-card">
          <div class="chart-title">ğŸŸ¢ ØªÙˆØ²ÙŠØ¹ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¯ÙØ¹</div>
          <div class="chart-wrap"><canvas id="chartStatus"></canvas></div>
        </div>

        <!-- Chart 3: Expected vs Collected per Platform (Bar) -->
        <div class="chart-card full">
          <div class="chart-title">ğŸ’° Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„ØªØ­ØµÙŠÙ„ Ù„ÙƒÙ„ Ù…Ù†ØµØ©</div>
          <div class="chart-wrap tall">
            <canvas id="chartPlatformAmounts"></canvas>
          </div>
        </div>

        <!-- Chart 4: Weekly Trend (Line) -->
        <div class="chart-card full">
          <div class="chart-title">ğŸ“ˆ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠØ©</div>
          <div class="chart-wrap tall">
            <canvas id="chartWeekly"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- â”€â”€ ACCOUNTS â”€â”€ -->
    <div class="page" id="page-accounts">
      <div class="page-header">
        <div class="page-title">ğŸª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø±</div>
        <div class="page-sub">Ø¥Ø¶Ø§ÙØ© ÙˆØªØ¹Ø¯ÙŠÙ„ ÙˆØ­Ø°Ù Ø§Ù„ÙØ±ÙˆØ¹ ÙˆØ§Ù„Ù…ØªØ§Ø¬Ø± Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙˆØ§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª ÙˆØ§Ù„Ø´Ø­Ù†</div>
      </div>

      <!-- Info Banner -->
      <div style="
          background: linear-gradient(135deg, rgba(34, 211, 238, 0.08), rgba(59, 130, 246, 0.06));
          border: 1px solid rgba(34, 211, 238, 0.15);
          border-radius: var(--radius);
          padding: 18px 24px;
          margin-bottom: 24px;
          display: flex;
          align-items: flex-start;
          gap: 14px;
        ">
        <span style="font-size: 24px; flex-shrink: 0; margin-top: 2px;">ğŸ’¡</span>
        <div style="flex: 1;">
          <div style="font-size: 14px; font-weight: 700; color: var(--cyan); margin-bottom: 4px;">Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§ØªØŸ</div>
          <div style="font-size: 13px; color: var(--muted); line-height: 1.7;">
            Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ù‡ÙŠ Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø£Ùˆ Ø§Ù„ÙØ±ÙˆØ¹ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ù…ØªØ§Ø¨Ø¹ØªÙ‡Ø§ (Ù…Ø«Ù„: ÙØ±Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ù…ØªØ¬Ø± Ù†ÙˆÙ† 2). ÙƒÙ„ Ø­Ø³Ø§Ø¨ Ù…Ø±ØªØ¨Ø· Ø¨Ù…Ù†ØµØ© Ù…Ø¹ÙŠÙ†Ø©
            ÙˆÙŠÙØ³ØªØ®Ø¯Ù… Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª ÙˆØ§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª ÙˆØ§Ù„Ø´Ø­Ù† Ø§Ù„Ù…Ø®ØµÙˆÙ….
          </div>
        </div>
      </div>

      <!-- KPI Cards -->
      <div class="kpi-grid" id="accounts-kpi">
        <div class="kpi-card" style="--accent: var(--cyan)">
          <div class="kpi-icon">ğŸª</div>
          <div class="kpi-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª</div>
          <div class="kpi-value" id="acc-kpi-total">0</div>
          <div class="kpi-sub">Ù…ØªØ¬Ø± / ÙØ±Ø¹</div>
        </div>
        <div class="kpi-card" style="--accent: var(--blue)">
          <div class="kpi-icon">ğŸŒ</div>
          <div class="kpi-label">Ø§Ù„Ù…Ù†ØµØ§Øª</div>
          <div class="kpi-value" id="acc-kpi-platforms">0</div>
          <div class="kpi-sub">Ù…Ù†ØµØ© Ù…Ø®ØªÙ„ÙØ©</div>
        </div>
        <div class="kpi-card" style="--accent: var(--emerald)">
          <div class="kpi-icon">ğŸ‡¸ğŸ‡¦</div>
          <div class="kpi-label">Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</div>
          <div class="kpi-value" id="acc-kpi-sa">0</div>
          <div class="kpi-sub">Ø­Ø³Ø§Ø¨</div>
        </div>
        <div class="kpi-card" style="--accent: var(--purple)">
          <div class="kpi-icon">ğŸŒ</div>
          <div class="kpi-label">Ø¯ÙˆÙ„ Ø£Ø®Ø±Ù‰</div>
          <div class="kpi-value" id="acc-kpi-other">0</div>
          <div class="kpi-sub">Ø­Ø³Ø§Ø¨</div>
        </div>
      </div>

      <!-- Add Account Form -->
      <div class="card" style="margin-bottom: 20px;">
        <div class="card-title">â• Ø¥Ø¶Ø§ÙØ© Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</div>
        <div id="addAccountForm"
          style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 12px; align-items: end;">
          <div>
            <label
              style="display: block; margin-bottom: 6px; font-size: 12px; color: var(--muted); font-weight: 600;">Ø§Ù„Ù…Ù†ØµØ©</label>
            <div style="position: relative;">
              <input type="text" id="accPlatform" list="platformList" placeholder="Ù…Ø«Ø§Ù„: Noon, Amazon..." style="
                  width: 100%;
                  padding: 12px 16px;
                  background: var(--bg);
                  border: 1px solid var(--border);
                  border-radius: 10px;
                  color: var(--text);
                  font-size: 14px;
                  font-family: 'Tajawal', sans-serif;
                  outline: none;
                  transition: 0.3s;
                "
                onfocus="this.style.borderColor='var(--cyan)'; this.style.boxShadow='0 0 0 3px rgba(34,211,238,0.1)';"
                onblur="this.style.borderColor='var(--border)'; this.style.boxShadow='none';">
              <datalist id="platformList"></datalist>
            </div>
          </div>
          <div>
            <label
              style="display: block; margin-bottom: 6px; font-size: 12px; color: var(--muted); font-weight: 600;">Ø§Ø³Ù…
              Ø§Ù„Ø­Ø³Ø§Ø¨ / Ø§Ù„ÙØ±Ø¹</label>
            <input type="text" id="accName" placeholder="Ù…Ø«Ø§Ù„: ÙØ±Ø¹ Ø§Ù„Ø±ÙŠØ§Ø¶" style="
                width: 100%;
                padding: 12px 16px;
                background: var(--bg);
                border: 1px solid var(--border);
                border-radius: 10px;
                color: var(--text);
                font-size: 14px;
                font-family: 'Tajawal', sans-serif;
                outline: none;
                transition: 0.3s;
              " onfocus="this.style.borderColor='var(--cyan)'; this.style.boxShadow='0 0 0 3px rgba(34,211,238,0.1)';"
              onblur="this.style.borderColor='var(--border)'; this.style.boxShadow='none';">
          </div>
          <div>
            <label
              style="display: block; margin-bottom: 6px; font-size: 12px; color: var(--muted); font-weight: 600;">Ø§Ù„Ø¯ÙˆÙ„Ø©</label>
            <select id="accCountry" style="
                width: 100%;
                padding: 12px 16px;
                background: var(--bg);
                border: 1px solid var(--border);
                border-radius: 10px;
                color: var(--text);
                font-size: 14px;
                font-family: 'Tajawal', sans-serif;
                outline: none;
                transition: 0.3s;
                cursor: pointer;
              ">
              <option value="SA">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</option>
              <option value="AE">ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</option>
              <option value="EG">ğŸ‡ªğŸ‡¬ Ù…ØµØ±</option>
              <option value="KW">ğŸ‡°ğŸ‡¼ Ø§Ù„ÙƒÙˆÙŠØª</option>
              <option value="BH">ğŸ‡§ğŸ‡­ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†</option>
              <option value="QA">ğŸ‡¶ğŸ‡¦ Ù‚Ø·Ø±</option>
              <option value="OM">ğŸ‡´ğŸ‡² Ø¹Ù…Ø§Ù†</option>
              <option value="JO">ğŸ‡¯ğŸ‡´ Ø§Ù„Ø£Ø±Ø¯Ù†</option>
              <option value="OTHER">ğŸŒ Ø£Ø®Ø±Ù‰</option>
            </select>
          </div>
          <div>
            <label
              style="display: block; margin-bottom: 6px; font-size: 12px; color: var(--muted); font-weight: 600;">Ø´Ø­Ù†
              Ø«Ø§Ø¨Øª (Ù„Ù„Ù…ØªØ¬Ø±)</label>
            <input type="number" id="accShipping" placeholder="0.00" step="0.01" style="
                width: 100%;
                padding: 12px 16px;
                background: var(--bg);
                border: 1px solid var(--border);
                border-radius: 10px;
                color: var(--text);
                font-size: 14px;
                font-family: 'Tajawal', sans-serif;
                outline: none;
                transition: 0.3s;
              " onfocus="this.style.borderColor='var(--cyan)';" onblur="this.style.borderColor='var(--border)';">
          </div>
          <div>
            <label
              style="display: block; margin-bottom: 6px; font-size: 12px; color: var(--muted); font-weight: 600;">Ø´Ø­Ù†
              Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
            <input type="number" id="accClientShipping" placeholder="0.00" step="0.01" style="
                width: 100%;
                padding: 12px 16px;
                background: var(--bg);
                border: 1px solid var(--border);
                border-radius: 10px;
                color: var(--text);
                font-size: 14px;
                font-family: 'Tajawal', sans-serif;
                outline: none;
                transition: 0.3s;
              " onfocus="this.style.borderColor='var(--purple)';" onblur="this.style.borderColor='var(--border)';">
          </div>
          <div>
            <label
              style="display: block; margin-bottom: 6px; font-size: 12px; color: var(--muted); font-weight: 600;">Ø¹Ù…ÙˆÙ„Ø©
              Ø§Ù„Ø¯ÙØ¹</label>
            <input type="number" id="accCommission" placeholder="0.00" step="0.01" style="
                width: 100%;
                padding: 12px 16px;
                background: var(--bg);
                border: 1px solid var(--border);
                border-radius: 10px;
                color: var(--text);
                font-size: 14px;
                font-family: 'Tajawal', sans-serif;
                outline: none;
                transition: 0.3s;
              " onfocus="this.style.borderColor='var(--blue)';" onblur="this.style.borderColor='var(--border)';">
          </div>
          <div>
            <label
              style="display: block; margin-bottom: 6px; font-size: 12px; color: var(--muted); font-weight: 600;">Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©</label>
            <input type="number" id="accTaxRate" placeholder="0.00" step="0.01" style="
                width: 100%;
                padding: 12px 16px;
                background: var(--bg);
                border: 1px solid var(--border);
                border-radius: 10px;
                color: var(--text);
                font-size: 14px;
                font-family: 'Tajawal', sans-serif;
                outline: none;
                transition: 0.3s;
              " onfocus="this.style.borderColor='var(--cyan)';" onblur="this.style.borderColor='var(--border)';">
          </div>
          <div style="display: flex; flex-direction: column; justify-content: flex-end; padding-bottom: 6px;">
            <label
              style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 12px; color: var(--text); font-weight: 600;">
              <input type="checkbox" id="accTaxInc" style="width: 18px; height: 18px; cursor: pointer;">
              Ø´Ø§Ù…Ù„Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©
            </label>
          </div>
          <button class="btn btn-primary" onclick="addNewAccount()"
            style="height: 46px; white-space: nowrap; align-self: flex-end;">
            â• Ø¥Ø¶Ø§ÙØ©
          </button>
        </div>
      </div>

      <!-- Search -->
      <div style="margin-bottom: 16px; position: relative;">
        <span
          style="position: absolute; right: 16px; top: 50%; transform: translateY(-50%); color: var(--muted); font-size: 16px; pointer-events: none;">ğŸ”</span>
        <input type="text" id="accSearchInput" placeholder="Ø§Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª..." oninput="filterAccountsList()" style="
            width: 100%;
            padding: 12px 18px 12px 18px;
            padding-right: 44px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text);
            font-size: 14px;
            font-family: 'Tajawal', sans-serif;
            outline: none;
            transition: 0.3s;
          " onfocus="this.style.borderColor='var(--cyan)'; this.style.boxShadow='0 0 0 3px rgba(34,211,238,0.1)';"
          onblur="this.style.borderColor='var(--border)'; this.style.boxShadow='none';">
      </div>

      <!-- Accounts Table -->
      <div class="card">
        <div class="card-title">
          ğŸ“‹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©
          <span id="acc-visible-count" style="
              display: inline-flex;
              align-items: center;
              justify-content: center;
              min-width: 28px;
              height: 28px;
              padding: 0 8px;
              border-radius: 20px;
              background: rgba(34, 211, 238, 0.12);
              color: var(--cyan);
              font-size: 12px;
              font-weight: 700;
            ">0</span>
        </div>

        <div style="overflow-x: auto;">
          <table id="accountsTable" style="width: 100%; border-collapse: collapse;">
            <thead>
              <tr>
                <th
                  style="width: 50px; text-align: right; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  #</th>
                <th
                  style="text-align: right; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø§Ù„Ù…Ù†ØµØ©</th>
                <th
                  style="text-align: right; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ / Ø§Ù„ÙØ±Ø¹</th>
                <th
                  style="text-align: right; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø§Ù„Ø¯ÙˆÙ„Ø©</th>
                <th
                  style="text-align: center; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø´Ø­Ù† Ù…ØªØ¬Ø±</th>
                <th
                  style="text-align: center; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø´Ø­Ù† Ø¹Ù…ÙŠÙ„</th>
                <th
                  style="text-align: center; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø¹Ù…ÙˆÙ„Ø§Øª Ø¯ÙØ¹</th>
                <th
                  style="text-align: center; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø¶Ø±ÙŠØ¨Ø©</th>
                <th
                  style="text-align: center; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø´Ø§Ù…Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©</th>
                <th
                  style="text-align: right; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>
                <th
                  style="width: 160px; text-align: center; padding: 12px 16px; font-size: 12px; color: var(--muted); font-weight: 600; border-bottom: 1px solid var(--border); background: var(--surface2);">
                  Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
              </tr>
            </thead>
            <tbody id="accountsBody">
              <tr>
                <td colspan="8" style="text-align: center; padding: 48px; color: var(--muted);">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</td>
              </tr>
            </tbody>
          </table>
        </div>
        </tbody>
        </table>
      </div>
    </div>
    </div>

    <!-- â”€â”€ RETURNS â”€â”€ -->
    <div class="page" id="page-returns">
      <div class="page-header">
        <div class="page-title">Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª</div>
        <div class="page-sub">Ù…Ø³Ø­ Ø§Ù„Ø´Ø­Ù†Ø§Øª Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø© Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹</div>
      </div>

      <div class="card" style="max-width: 600px; margin: 0 auto 24px; text-align: center;">
        <div class="card-title" style="justify-content: center;">Ù…Ø³Ø­ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯</div>
        <p style="color: var(--muted); font-size: 13px; margin-bottom: 20px;">
          Ù‚Ù… Ø¨ØªÙ…Ø±ÙŠØ± Ù‚Ø§Ø±Ø¦ Ø§Ù„Ø¨Ø§Ø±ÙƒÙˆØ¯ Ø¹Ù„Ù‰ Ø¨ÙˆÙ„ÙŠØµØ© Ø§Ù„Ø´Ø­Ù† Ø£Ùˆ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ ÙŠØ¯ÙˆÙŠØ§Ù‹ ÙˆØ§Ø¶ØºØ· Enter
        </p>

        <input type="text" id="returnBarcode" placeholder="Ø±Ù‚Ù… Ø§Ù„ØªØªØ¨Ø¹ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨..."
          style="width: 100%; padding: 18px; font-size: 18px; background: var(--surface2); border: 2px solid var(--border); border-radius: 12px; color: var(--text); text-align: center; direction: ltr; margin-bottom: 16px; transition: 0.3s;"
          onfocus="this.style.borderColor='var(--cyan)'" onblur="this.style.borderColor='var(--border)'"
          autocomplete="off" autofocus>

        <div style="display: flex; gap: 12px; justify-content: center;">
          <button class="btn btn-primary" onclick="submitReturn()" id="btnSubmitReturn">
            ØªØ³Ø¬ÙŠÙ„ Ø§Ø³ØªÙ„Ø§Ù…
          </button>
          <button class="btn btn-ghost"
            onclick="document.getElementById('returnBarcode').value = ''; document.getElementById('returnBarcode').focus();">
            Ù…Ø³Ø­ ×”×—Ù‚Ù„
          </button>
        </div>
      </div>

      <div class="card">
        <div class="card-title" style="display: flex; justify-content: space-between;">
          <span>Ø¢Ø®Ø± Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© (<span id="returnsTotalCount">0</span>)</span>
          <button class="btn btn-ghost" style="padding: 6px 12px; font-size: 12px;"
            onclick="loadReturns()">ØªØ­Ø¯ÙŠØ«</button>
        </div>
        <div style="overflow-x: auto;">
          <table>
            <thead>
              <tr>
                <th style="width: 80px;">Ø§Ù„Ø±Ù‚Ù…</th>
                <th>Ø±Ù‚Ù… Ø§Ù„ØªØªØ¨Ø¹ / Ø§Ù„Ø·Ù„Ø¨</th>
                <th>ÙˆÙ‚Øª Ø§Ù„ÙØ­Øµ</th>
                <th style="width: 100px; text-align: center;">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
              </tr>
            </thead>
            <tbody id="returnsBody">
              <tr>
                <td colspan="4" style="text-align: center; padding: 30px; color: var(--muted);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="page" id="page-about">
      <div class="page-header">
        <div class="page-title">Ø­ÙˆÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…</div>
        <div class="page-sub">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ù„Ù…Ø·ÙˆÙ‘Ø±</div>
      </div>

      <!-- Developer Card -->
      <div class="card" style="
            max-width: 600px;
            margin: 0 auto 24px;
            text-align: center;
            padding: 40px 32px;
          ">
        <div style="
              width: 90px;
              height: 90px;
              border-radius: 50%;
              background: linear-gradient(
                135deg,
                var(--cyan),
                var(--blue),
                var(--purple)
              );
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 40px;
              margin: 0 auto 20px;
              box-shadow: 0 0 30px rgba(34, 211, 238, 0.3);
            ">
          ğŸ‘¨â€ğŸ’»
        </div>

        <div style="
              font-size: 22px;
              font-weight: 800;
              color: var(--text);
              margin-bottom: 6px;
            ">
          Abdelrhaman Wael Mohammed
        </div>
        <div style="
              font-size: 13px;
              color: var(--cyan);
              font-weight: 600;
              margin-bottom: 20px;
            ">
          Full-Stack Developer &amp; Data Engineer
        </div>

        <div style="
              display: flex;
              gap: 12px;
              justify-content: center;
              flex-wrap: wrap;
              margin-bottom: 28px;
            ">
          <a href="mailto:abdelrhamanwael8@gmail.com" style="
                display: inline-flex;
                align-items: center;
                gap: 8px;
                padding: 10px 18px;
                border-radius: 10px;
                background: rgba(34, 211, 238, 0.1);
                border: 1px solid rgba(34, 211, 238, 0.2);
                color: var(--cyan);
                font-size: 13px;
                font-weight: 600;
                text-decoration: none;
                transition: 0.2s;
              " onmouseover="this.style.background = 'rgba(34,211,238,0.2)'"
            onmouseout="this.style.background = 'rgba(34,211,238,0.1)'">
            ğŸ“§ abdelrhamanwael8@gmail.com
          </a>
          <a href="https://linkedin.com/in/abdelrhaman-wael-mohammed-790171366" target="_blank" style="
                display: inline-flex;
                align-items: center;
                gap: 8px;
                padding: 10px 18px;
                border-radius: 10px;
                background: rgba(59, 130, 246, 0.1);
                border: 1px solid rgba(59, 130, 246, 0.2);
                color: var(--blue);
                font-size: 13px;
                font-weight: 600;
                text-decoration: none;
                transition: 0.2s;
              " onmouseover="this.style.background = 'rgba(59,130,246,0.2)'"
            onmouseout="this.style.background = 'rgba(59,130,246,0.1)'">
            ğŸ”— LinkedIn Profile
          </a>
        </div>

        <div style="border-top: 1px solid var(--border); padding-top: 20px">
          <div style="
                font-size: 12px;
                color: var(--muted);
                margin-bottom: 12px;
                font-weight: 600;
              ">
            ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ØªØ·ÙˆÙŠØ±
          </div>
          <div style="
                display: flex;
                gap: 8px;
                justify-content: center;
                flex-wrap: wrap;
              ">
            <span class="badge badge-cyan">Python</span>
            <span class="badge badge-blue">Flask</span>
            <span class="badge badge-emerald">Pandas</span>
            <span class="badge badge-amber">SQLite</span>
            <span class="badge badge-purple">Chart.js</span>
            <span class="badge badge-rose">OpenPyXL</span>
          </div>
        </div>
      </div>

      <!-- System Info -->
      <div class="card" style="max-width: 600px; margin: 0 auto">
        <div class="card-title">ğŸ’» Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</div>
        <table>
          <tr>
            <td style="color: var(--muted); width: 40%">Ø§Ø³Ù… Ø§Ù„Ù†Ø¸Ø§Ù…</td>
            <td style="font-weight: 600">Ù†Ø¸Ø§Ù… Ø±Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªØ­ØµÙŠÙ„</td>
          </tr>
          <tr>
            <td style="color: var(--muted)">Ø§Ù„Ø¥ØµØ¯Ø§Ø±</td>
            <td style="font-weight: 600">v2.0 â€” Flask Edition</td>
          </tr>
          <tr>
            <td style="color: var(--muted)">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ·ÙˆÙŠØ±</td>
            <td style="font-weight: 600">February 2026</td>
          </tr>
          <tr>
            <td style="color: var(--muted)">Ø§Ù„Ù…Ø·ÙˆÙ‘Ø±</td>
            <td style="font-weight: 600">Abdelrhaman Wael Mohammed</td>
          </tr>
          <tr>
            <td style="color: var(--muted)">Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©</td>
            <td style="font-weight: 600">
              Amazon Â· Noon Â· Trendyol Â· Ilasouq Â· Tabby Â· SMSA
            </td>
          </tr>
          <tr>
            <td style="color: var(--muted)">Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</td>
            <td style="font-weight: 600">SQLite (finance_system.db)</td>
          </tr>
        </table>
      </div>
    </div>
  </main>

  <!-- â”€â”€ Toast Container â”€â”€ -->
  <div class="toast-container" id="toastContainer"></div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="/static/js/main.js?v=2"></script>
</body>

</html>